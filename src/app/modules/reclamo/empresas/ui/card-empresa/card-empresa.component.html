<div class="empresa-card">
    <div class="card-head">
        <h3 class="card-title">{{ empresa.nombre }}</h3>

        <div class="estado-row">
            <!-- 🔹 SWITCH SIEMPRE VISIBLE -->
            <label class="switch" [ngClass]="{ 'on': empresa.activo }" (click)="onToggleClick($event)">
                <input type="checkbox" [checked]="empresa.activo" readonly />
                <span class="slider"></span>
            </label>

            <span class="estado-text" [class.green]="empresa.activo" [class.gray]="!empresa.activo">
        {{ empresa.activo ? 'Activo' : 'Inactivo' }}
      </span>

            <a class="editar" (click)="editar.emit(empresa)">Editar</a>
        </div>
    </div>

    <div class="card-body">
        <div class="item"><span>Teléfono:</span> <b>{{ empresa.telefono }}</b></div>
        <div class="item"><span>Email:</span> <b>{{ empresa.email }}</b></div>
        <div class="item"><span>Razón social:</span> <b>{{ empresa.razonSocial }}</b></div>
        <div class="item"><span>Dirección:</span> <b>{{ empresa.direccion }}</b></div>
    </div>

    <div class="card-actions">
        <button class="btn btn-light" (click)="verLista.emit(empresa)">Ver Lista</button>

    </div>

    <!-- 🔸 MODAL CONFIRMACIÓN CAMBIO DE ESTADO -->
    <div class="modal-backdrop" *ngIf="confirmarVisible">
        <div class="modal">
            <h3 style="margin:0 0 .5rem">
                ¿Está seguro que desea {{ pendienteAEstado ? 'activar' : 'inactivar' }}
                <b>{{ empresa.nombre }}</b>?
            </h3>
            <p style="margin:.2rem 0 1rem">
                {{ pendienteAEstado ? 'habilitará' : 'deshabilitará' }} el botón <b>Asignar</b>.
            </p>
            <div class="row">
                <button class="btn btn-light" (click)="cancelar()">Cancelar</button>
                <button class="btn btn-amarillo" (click)="confirmarCambio()">Confirmar</button>
            </div>
        </div>
    </div>
</div>
